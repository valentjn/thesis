% needed for custom switches
\RequirePackage{etoolbox}

% ======================================================================
% Toggle settings
% ======================================================================

% draftmode switch:
% show draft watermark, disabling overrides checkmode and debugmode (see below)
\newtoggle{draftmode}
\toggletrue{draftmode}

% checkmode switch:
% show all overfull/underfull boxes, show unknown hyphenations
\newtoggle{checkmode}
\toggletrue{checkmode}

% debugmode switch:
% show all boxes, glues, and kerning info
\newtoggle{debugmode}
\togglefalse{debugmode}

% partialCompile switches:
% only compile a single chapter to save compilation time
\newtoggle{partialCompileMode}
\toggletrue{partialCompileMode}

% compileChapterX:
% select chapter to compile for partialCompileMode = true
\newtoggle{compileChapter1}
\newtoggle{compileChapter2}\toggletrue{compileChapter2}
\newtoggle{compileChapter3}
\newtoggle{compileChapter4}
\newtoggle{compileChapter5}
\newtoggle{compileChapter6}
\newtoggle{compileChapter7}
\newtoggle{compileChapter8}

% ======================================================================
% Toggle logic
% ======================================================================

% disable checkmode and debugmode if draftmode is disabled
\iftoggle{draftmode}{}{
  \togglefalse{checkmode}
  \togglefalse{debugmode}
}

% disable compileChapterX if partialCompileMode is disabled
\iftoggle{partialCompileMode}{}{
  \toggletrue{compileChapter1}
  \toggletrue{compileChapter2}
  \toggletrue{compileChapter3}
  \toggletrue{compileChapter4}
  \toggletrue{compileChapter5}
  \toggletrue{compileChapter6}
  \toggletrue{compileChapter7}
  \toggletrue{compileChapter8}
}
