\chapter{Some Random Ideas That May or May Not Be Helpful}
\section{Univers-Font}
To disable setting this document using University of Stuttgart's very own
``Univers'' font, comment out the following lines in preamble/template.tex:
\begin{verbatim}
\usepackage{fontspec}
\setmainfont{Univers for UniS 55 Roman Rg}
\end{verbatim}
Note, that the font needs to be installed for building the document.

\section{Sync Bibfile}
In case you want to use the official SGS .bib - file from this repository, it
may be helpful to check if the file in your diss repo is in sync with the SGS
repo.

The following pre- or post-commit hook might be helpful.
\begin{verbatim}
#!/usr/bin/env python

import difflib
import sys

def syncFile():
    print ("synching lib file")
    file_in_repo = open("library.bib")
    c_repo = file_in_repo.readlines()
    file_in_sgs  = open("/home/lahnerml/SGitS/bibliothek/jabref/library.bib")
    c_sgs = file_in_sgs.readlines()
    diff = difflib.unified_diff(c_repo, c_sgs)
    if len(list(diff)):
        print ("library.bib differs from SGS repo.")
        sys.exit(-1)

def main(args=None):
    syncFile()

if __name__ == "__main__":
    main()
\end{verbatim}

\section{Build with latexmk}
If you prefer latexmk over SCons, you may consider the following Makefile
\begin{verbatim}
NAME=diss
FIGURES=figures

all: build reload

build:
	$(MAKE) -C $(FIGURES)
	@latexmk ${NAME}.tex

reload:
	@pkill -HUP mupdf || true

clean:
	$(MAKE) -C $(FIGURES) clean
	@latexmk -c

clean-all:
	$(MAKE) -C $(FIGURES) clean-all
	@latexmk -C
\end{verbatim}
The Makefile for the figures folder may look like this:
\begin{verbatim}
all: build

build:
	@latexmk

clean:
	@latexmk -c

clean-all:
	@latexmk -C
\end{verbatim}

The template requires some customizations for latexmk.
latexmk can be customized by creating a file called ``latexmkrc'' in the
respective folder.
The customizations for the main directory may look like this:
\begin{verbatim}
 # Custom dependency and function for nomencl package
 add_cus_dep( 'nlo', 'nls', 0, 'makenlo2nls' );
 sub makenlo2nls {
 system( "makeindex -s nomencl.ist -o \"$_[0].nls\" \"$_[0].nlo\"" );
 }

# $makeindex = 'texindy'; #$
add_cus_dep('idx', 'ind', 0, 'texindy');
sub texindy{
        system("texindy \"$_[0].idx\""); #$
}

# build a pdf
$pdf_mode = 1; #$

# Custom cleaning rule
$clean_ext = 'synctex.gz synctex.gz(busy) run.xml tex.bak thm upa upb nls nlo \
              bbl bcf fdb_latexmk run tdo %R-blx.bib'
\end{verbatim}
