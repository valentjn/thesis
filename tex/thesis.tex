% create and set switches
\input{switches}

% warns about outdated packages and missing caption declarations
\RequirePackage[l2tabu,orthodox]{nag}

% set main document class (KOMA-Script's scrbook)
\documentclass[
  % align equation numbers left to the equation
  leqno,
]{scrbook}

% include packages
\input{packages}

% set packages options
\input{settings}

% define commands
\input{commands}

% define symbols and acronyms
\input{glossary}

\begin{document}
  \iftoggle{partialCompileMode}{}{
    % title page
    \input{titlepage}
    
    % second title page
    \input{titlepage2}
    
    % table of contents, create bookmark
    \cleardoublepage
    \pdfbookmark[section]{\contentsname}{toc}
    \tableofcontents
    
    % table of symbols and acronyms
    \printglossary[title={Symbols and Acronyms}]
    
    % abstract
    \input{abstract}
    
    % preface
    \input{preface}
  }
  
  % chapters
  \iftoggle{compileChapter1}{\include{10introduction}}{}
  \iftoggle{compileChapter2}{\include{20sparseGrids}}{}
  \iftoggle{compileChapter3}{\include{30BSplines}}{}
  \iftoggle{compileChapter4}{\include{40hierarchization}}{}
  \iftoggle{compileChapter5}{\include{50optimization}}{}
  \iftoggle{compileChapter6}{\include{60topoOpt}}{}
  \iftoggle{compileChapter7}{\include{70muscle}}{}
  \iftoggle{compileChapter8}{\include{80finance}}{}
  \iftoggle{compileChapter9}{\include{90conclusion}}{}
  
  % start appendix
  \appendix
  
  % appendix chapters
  \iftoggle{compileChapterAppendix1}{\include{a10proofs}}{}
  
  \iftoggle{compileBibliography}{
    % bibliography
    \printbibliography[%
      % change title
      title=Bibliography,
      % use custom heading
      heading=myheading,
      % print custom note
      postnote=mypostnote,
    ]
  }{}
  
  \iftoggle{partialCompileMode}{}{
    % add all symbols and acronyms that have not been used
    % in the text to the glossary
    % (this command has to come after all glossary definitions)
    \glsaddallunused
  }
  
  % end with even page
  \cleardoubleoddpage
\end{document}
